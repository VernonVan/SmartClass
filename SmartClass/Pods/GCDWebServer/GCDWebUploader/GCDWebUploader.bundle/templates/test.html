<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui" />
		<meta name="apple-mobile-web-app-status-bar-style" content="yes" />
		<title></title>
		<link href="css/style.css" rel="stylesheet">

		<script src="js/angular.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.9/angular-route.min.js"></script>
		<script src="js/mobile-angular-ui.min.js"></script>
		<script src="js/app.js"></script>
		<script src="js/controllers.js"></script>
	</head>


    <body ng-app="starter">

    <div>
        <div ng-controller = "main-controller">

            <h1 style = 'position:relative;text-align:center'>{{data.title}}</h1>
            <br>

            <!--单选题-->
			<div>
				<div ng-repeat = 'question in questions[0]' >
					<h1>{{$index+1}}.{{question['topic']}}</h1>
					<div>
						<div ng-repeat = 's in select[0]'><input type = "radio" name={{question['topic']}} value="" ng-click = "singleChoice(question['index'], $index)">{{question[select[0][$index]]}}</input></div>
					</div>
				</div>
			</div>

            <!--多选题-->
			<div>
				<div ng-repeat = 'question in questions[1]'>
				<h1>{{$index+1}}.{{question['topic']}}<span style = 'color:#72ACE3'>【多选题】</span></h1>
					<div>
						<div ng-repeat = 's in select[0]'><input type = "checkbox"
																 ng-model = "answer[question['index']][$index]">{{question[select[0][$index]]}}</input></div>
					</div>
				</div>
			</div>

            <!--判断题-->
			<div>
				<div ng-repeat = 'question in questions[2]'>
				<h1>{{$index+1}}.{{question['topic']}}</h1>
					<div>
						<div ng-repeat = 'j in select[2]'><input type = "radio" name={{question['topic']}} value="" ng-click = "singleChoice(question['index'], $index)">{{select[2][$index]}}</input></div>
					</div>
				</div>
			</div>

            <input id = "studentNumber" type="text" placeholder="学号"/>
			<input id = "studentName" type="text" placeholder="姓名"/>
            <button class = 'button' ng-click = 'send()'>提交答案</button>
        </div>
    </div>
    </body>


  <script>
	function objBlur(id, time){
		if(typeof id != 'string') throw new Error('objBlur()参数错误');
		var obj = document.getElementById(id),
		time = time || 300,
		docTouchend = function(event){
			if(event.target!= obj){
				setTimeout(function(){
					obj.blur();
					document.removeEventListener('touchend', docTouchend,false);
				},time);
			}
		};
		if(obj){
			obj.addEventListener('focus', function(){
				document.addEventListener('touchend', docTouchend,false);
			},false);
		}else{
			throw new Error('objBlur()没有找到元素');
		}
	}
	var input = new objBlur('in');
	input=null;
  </script>

</html>
